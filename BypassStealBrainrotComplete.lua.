-- Auto Steal Highest M/S Brainrot Script with G Hotkey (Bypass E)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")

-- Configuração da hotkey (tecla G)
local HOTKEY = Enum.KeyCode.G

-- Função para encontrar o brainrot com o maior M/S
local function findHighestMSBrainrot()
    local highestValue, targetModel = 0, nil
    local targetName = nil
    print("Procurando brainrots com maior M/S em Workspace...")
    
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("Model") then
            local valueObj = obj:FindFirstChild("Value") or obj:FindFirstChild("Price") or obj:FindFirstChildWhichIsA("NumberValue")
            if not valueObj then
                for _, child in pairs(obj:GetDescendants()) do
                    valueObj = child:FindFirstChild("Value") or child:FindFirstChild("Price") or child:FindFirstChildWhichIsA("NumberValue")
                    if valueObj then break end
                end
            end
            if valueObj and typeof(valueObj.Value) == "number" then
                local value = valueObj.Value
                print("Verificando:", obj:GetFullName(), "Valor:", value)
                if value > highestValue then
                    highestValue = value
                    targetModel = obj
                    targetName = obj.Name
                    print("Novo brainrot mais caro:", obj:GetFullName(), "M/S:", value)
                end
            else
                print("Valor inválido ou não encontrado em:", obj:GetFullName())
            end
        end
    end
    
    if not targetModel then 
        print("Nenhum brainrot com valor válido encontrado!")
    else
        print("Brainrot selecionado:", targetName, "M/S:", highestValue)
    end
    return targetModel
end

-- Função para roubar instantaneamente (bypass do E)
local function stealBrainrot(model)
    if not model then
        print("Nenhum brainrot para roubar!")
        return
    end
    
    local prompt = model:FindFirstChildWhichIsA("ProximityPrompt", true)
    if prompt then
        print("ProximityPrompt encontrado em:", model:GetFullName())
        prompt:FireProximityPrompt()  -- Bypass do segurar E
        print("Roubo ativado!")
    else
        print("ProximityPrompt não encontrado em:", model:GetFullName())
        -- Tenta vários eventos remotos como fallback
        local stealEvents = {"Steal", "Rob", "Take", "Grab"}
        local foundEvent = false
        for _, eventName in pairs(stealEvents) do
            local stealEvent = model:FindFirstChild(eventName)
            if stealEvent and stealEvent:IsA("RemoteEvent") then
                print("Tentando FireServer em:", eventName)
                stealEvent:FireServer()
                foundEvent = true
                break
            elseif stealEvent and stealEvent:IsA("RemoteFunction") then
                print("Tentando InvokeServer em:", eventName)
                stealEvent:InvokeServer()
                foundEvent = true
                break
            end
        end
        if not foundEvent then
            print("Nenhum método de roubo (ProximityPrompt ou evento) encontrado em:", model:GetFullName())
        end
    end
end

-- Hotkey para roubo instantâneo
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == HOTKEY then
        print("Hotkey G pressionada!")
        local target = findHighestMSBrainrot()
        stealBrainrot(target)
    end
end)

print("Script ativado! Pressione G para roubar o brainrot com maior M/S.")
